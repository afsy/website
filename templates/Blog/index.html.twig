{% extends 'layout.html.twig' %}

{% block page_title %}
{% if tag is defined %}
    {{- '- tous les articles parlant de "' ~ tag.name ~ '"' -}}
{% else %}
    {{- '- tous les articles' -}}
{% endif %}
{% endblock %}

{% set header_announcement %}
    <div class="container--advent text-center">
        <div class="container">
            <h6>Des articles pour les fÃªtes !</h6>

            <p style="margin-bottom: 1em;">
                L'Afsy a le plaisir de vous prÃ©senter son calendrier de l'avent : tous les jours du 1er au 24 dÃ©cembre, un article
                original et de qualitÃ© autour de Symfony vous est prÃ©sentÃ© !
            </p>
            <p>
                <a class="btn" href="{{ path('avent') }}">ğŸ DÃ©couvrir le calendrier de l'avent ğŸ…</a>
            </p>
        </div>
    </div>
{% endset %}

{% block body %}
    {% set future = 0 %}
    {% set past = 0 %}

    {% for article in pagination %}
        {% if future == 0 and not article.eventStarted %}
            {% set future = 1 %}
            <h4 class="event museo"><i class="icon-calendar-white"></i>
                {% if tag is defined %}
                    Prochains Ã©vÃ©nements au sujet de "{{ tag.name }}"
                {% else %}
                    Prochains Ã©vÃ©nements
                {% endif %}
            </h4>
        {% endif %}

        {% if past == 0 and article.eventStarted %}
            {% set past = 1 %}
            <h4 class="event museo"><i class="icon-calendar-white"></i>
                {% if tag is defined %}
                    Ã‰vÃ©nements passÃ©s au sujet de "{{ tag.name }}"
                {% else %}
                    Ã‰vÃ©nements passÃ©s
                {% endif %}
            </h4>
        {% endif %}

        {% include 'Blog/_article.html.twig' with {'article': article} %}
    {% else %}
        <p class="text-error">Il n'y a aucun article.</p>
    {% endfor %}

    {{ knp_pagination_render(pagination) }}
{% endblock %}
